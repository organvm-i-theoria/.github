# Dependabot configuration for automated dependency updates
# Docs: https://docs.github.com/en/code-security/dependabot/dependabot-version-updates

version: 2
updates:
  # Enable version updates for GitHub Actions
- package-ecosystem: github-actions
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 3
  reviewers:
  - organization-team
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: chore
    include: scope
  groups:
    npm-production:
      patterns:
      - '*'
      exclude-patterns:
      - '@types/*'
      update-types:
      - minor
      - patch
    npm-development:
      dependency-type: development
      update-types:
      - minor
      - patch
    npm-types:
      patterns:
      - '@types/*'

    # Enable version updates for pip (Python)
- package-ecosystem: pip
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 2
  reviewers:
  - ivviiviivvi/backend
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: chore(deps)
    include: scope
  groups:
    python-dependencies:
      patterns:
      - '*'
      update-types:
      - minor
      - patch

    # Enable version updates for npm (JavaScript/TypeScript)
- package-ecosystem: npm
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 2
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: ci
  groups:
    github-actions:
      patterns:
      - '*'

    # Enable version updates for Docker
- package-ecosystem: docker
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 2
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: build
  groups:
    docker-images:
      patterns:
      - '*'

    # Enable version updates for Go modules
- package-ecosystem: gomod
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 2
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: chore
  groups:
    go-dependencies:
      patterns:
      - '*'
      update-types:
      - minor
      - patch

    # Enable version updates for Composer (PHP)
- package-ecosystem: composer
  directory: /
  schedule:
    interval: weekly
    day: monday
    time: 03:00
  open-pull-requests-limit: 2
  labels:
  - dependencies
  - automated
  - auto-merge
  commit-message:
    prefix: chore
  groups:
    composer-dependencies:
      patterns:
      - '*'
      update-types:
      - minor
      - patch
